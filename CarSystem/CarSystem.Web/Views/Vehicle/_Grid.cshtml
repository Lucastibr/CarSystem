@using CarSystem.Web.Models.Vehicle

@(Html.Kendo().Grid<VehicleViewModel>()
    .Name("Grid")
    .Columns(x =>
    {
        x.Bound(c => c.Image).ClientTemplate("#= productImage(data)#");
        x.Bound(c => c.LicensePlate).Title("Placa do Carro").Width(40);
        x.Bound(c => c.Chassis).Title("Chassi do Carro").Width(40);
        x.Bound(c => c.Price).Title("Valor").Format("{0:C2}").Width(60);
        x.Bound(c => c.YearRelease).Title("Ano de Lançamento").Format("{0:MM/yyyy}").Width(60);
        x.Bound(c => c.VehicleType).Title("Tipo de Veículo").Width(60);
        x.Bound(c => c.CarBody).Title("Cat.").Width(40);
        x.Bound(c => c.EnterpriseName).Title("Empresa").Width(60);
        x.Bound("Id").ClientTemplate("#= editItem(data, '" + Url.Action("Edit") + "') #").Title("Editar").Width(60);
        x.Bound("Id").ClientTemplate("#= deleteItem(data, '" + Url.Action("Delete") + "') #").Title("Excluir").Width(60);
    })
    .Sortable()
    .Pageable(x => x.PageSizes(new[] { 10, 20, 30, 50, 100 }).ButtonCount(5).Refresh(true))
    .Filterable()
    .DataSource(x => x
        .Ajax()
        .Sort(sort => sort.Add(s => s.LicensePlate).Ascending())
        .Read(r => r.Url(Url.Action("BindGrid")))
        .ServerOperation(false)
        .PageSize(20)))

<script>
    function productImage(data) {
        if (data.VehicleImage) {
            return `<div class="text-center"><img style="width:80px;height:50px;" src="/img/${data.VehicleImage}" class="img-circle"/></div>`;
        }
        else {
            return `<div class="text-center"><img style="width:80px;height:50px;" src="/img/favicon.png" class="img-circle"/></div>`;
        }
    }

</script>