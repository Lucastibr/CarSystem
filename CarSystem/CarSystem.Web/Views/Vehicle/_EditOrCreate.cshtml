@using CarSystem.Web.Models.Vehicle
@using CarSystem.Domain.Enums

@model VehicleViewModel

    <div class="container">
        <form method="post" role="form" enctype="multipart/form-data" id="frm">
            <input asp-for="Id" type="hidden" />
            <div asp-validation-summary="None"></div>
            <div class="form-group row">
                <div class="col-md-6">
                    <label asp-for="LicensePlate"></label>
                    <input asp-for="LicensePlate" class="form-control" maxlength="8" id="licensePlate" />
                    <span asp-validation-for="LicensePlate" class="text-danger"></span>
                </div>
                <div class="col-md-6">
                    <label asp-for="Chassis"></label>
                    <input asp-for="Chassis" class="form-control" type="text" />
                    <span asp-validation-for="Chassis" class="text-danger"></span>
                </div>
            </div>
               <div class="form-group row">
            <div class="col-md-6">
                <label asp-for="Price"></label>
                <input asp-for="Price" class="form-control" asp-format"{0:c2}"/>
                <span asp-validation-for="Price" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="YearRelease"></label>
               @(Html.Kendo().DatePicker()
              .Name("datepicker")
              .Value(@Model.YearRelease)
              .HtmlAttributes(new { style = "width: 100%", title = "datepicker" })
        )
            </div>
            </div>
            <div class="row mb-2">
                <div class="col-md-6">
                    <label asp-for="VehicleType"></label>
                    <select asp-for="VehicleType" asp-items="Html.GetEnumSelectList<VehicleType>()" class="form-control"></select>
                    <span asp-validation-for="VehicleType" class="text-danger"></span>
                </div>
                <div class="col-md-6">
                    <label asp-for="CarBody"></label>
                    <select asp-for="CarBody" asp-items="Html.GetEnumSelectList<CarBody>()" class="form-control"></select>
                    <span asp-validation-for="CarBody" class="text-danger"></span>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-md-6">
                    <select asp-for="EnterpriseId" asp-items="Model.Enterprises" class="form-control">
                        <option value=""></option>
                    </select>
                </div>
                <div class="col-md-6">
                       <div class="custom-file">
                        <input asp-for="Image" class="custom-file-input" id="customFile">
                        <label class="custom-file-label" for="customFile">Selecione uma Imagem</label>
                    </div>
                </div>
            </div>

    <div class="form-group mt-2">
        <a class="btn btn-danger" asp-action="Index">Voltar</a>
        <button class="btn btn-primary" type="submit" id="save">Salvar</button>
    </div>

    </form>
    </div>

    @section Scripts
{
        <script type="text/javascript">
            $(function () {
                $('.select2').select2();

                Image();
            });

            function Image() {
                $(".custom-file-input").on("change", function () {
                    var fileName = $(this).val().split("\\").pop();
                    $(this).siblings(".custom-control-label").addClass("selected").html(fileName);
                });
            }

        </script>
    }
